Java虚拟机对class文件采用的是按需加载的方式，只有当需要使用这个class文件的时候才会将这个class文件加载到内存中生成class对象。
同时加载某个类的class文件的时候，Java虚拟机采用的是双亲委派模式，即：把加载请求交由父类处理，这就是双亲委派模式。这是一种任务委派模式。


## 工作原理
![双亲委派加载示例图.png](..%2Fimages%2F01-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%AD%90%E7%B3%BB%E7%BB%9F%2F%E5%8F%8C%E4%BA%B2%E5%A7%94%E6%B4%BE%E5%8A%A0%E8%BD%BD%E7%A4%BA%E4%BE%8B%E5%9B%BE.png)

- 如果一个类加载器收到了类加载请求，它并不会自己去进行加载，而是把这个请求委托给父类的加载器去进行加载。
- 如果父类加载器还存在其父类加载器，那么就会进一步向上委托，一次递归该请求。最终请求会到达顶层的引导类加载器。
- 如果父类加载器可以完成类加载任务，那么就成功返回；如果不能完成类加载任务，子加载器才会尝试自己去进行加载。

## 双亲委派机制的优势
- 避免类的重复加载(因为类的加载器具有层次关系，类也具有一定的层次关系)
- 保护程序安全，防止核心API被随意篡改